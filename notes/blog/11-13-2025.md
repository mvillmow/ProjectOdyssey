# 11-13-2025: The agents are alive, for now

## Agentic workflows

You might be asking why I am spending so much time on documentation. The reason is that it lets me work out the kinks in the agents without really having to worry about 'correctness' of the program. It is quite easy to review documentation relative to code, so I can iterate faster. Also, documentation at this stage does not have to be the highest quality as long as the general idea is correct. In reality the code is the ground truth, so once the code is added, then I can cleanup the documentation to follow the code.

Since I got my agents back after a few days and they are blowing their their weekly budget very quickly. I don't think this flow is fine tuned enough yet to get it to run for a week straight. After a day of running, again, it seems i'm already about 30% done. The data I am getting out of ccusage is actually pretty interesting, but not clear cut if my improvements of agentic flows is actually working or not.

What is ccusage? Its a tool to estimate your claude code usage and costs and can be found here:

## CC Usage

### Session information

Here is some information I have on using claude code for my current session using the command `ccusage session -b`

```text
┌────────────┬─────────────────────────┬──────────────┬──────────────┬──────────────┬──────────────┬──────────────┬──────────────┬──────────┐
│ Session    │ Models                  │        Input │       Output │ Cache Create │   Cache Read │ Total Tokens │   Cost (USD) │ Last     │
│            │                         │              │              │              │              │              │              │ Activity │
├────────────┼─────────────────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────┤
│ ml-odyssey │ - haiku-4-5             │      549,194 │    3,470,255 │   30,092,427 │  339,226,799 │  373,338,675 │      $302.88 │ 2025-11… │
│            │ - opus-4-1              │              │              │              │              │              │              │          │
│            │ - sonnet-4-5            │              │              │              │              │              │              │          │
├────────────┼─────────────────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────┤
│   └─       │                         │      491,060 │    2,873,480 │   26,928,298 │  293,109,773 │  323,402,611 │      $233.49 │          │
│ sonnet-4-5 │                         │              │              │              │              │              │              │          │
├────────────┼─────────────────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────┤
│   └─       │                         │        1,229 │      249,289 │    1,108,022 │   14,943,890 │   16,302,430 │       $61.91 │          │
│ opus-4-1   │                         │              │              │              │              │              │              │          │
├────────────┼─────────────────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────┤
│   └─       │                         │       56,905 │      347,486 │    2,056,107 │   31,173,136 │   33,633,634 │        $7.48 │          │
│ haiku-4-5  │                         │              │              │              │              │              │              │          │
├────────────┼─────────────────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────┤
│ odyssey-m… │ - haiku-4-5             │      190,624 │    1,299,284 │   12,877,819 │  148,069,532 │  162,437,259 │      $105.71 │ 2025-11… │
│            │ - sonnet-4-5            │              │              │              │              │              │              │          │
├────────────┼─────────────────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────┤
│   └─       │                         │      184,689 │    1,184,200 │   11,518,912 │  135,565,910 │  148,453,711 │      $102.18 │          │
│ sonnet-4-5 │                         │              │              │              │              │              │              │          │
├────────────┼─────────────────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────┤
│   └─       │                         │        5,935 │      115,084 │    1,358,907 │   12,503,622 │   13,983,548 │        $3.53 │          │
│ haiku-4-5  │                         │              │              │              │              │              │              │          │
├────────────┼─────────────────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────┤
│ test-agen… │ - haiku-4-5             │        1,264 │       77,116 │    1,568,911 │   12,293,618 │   13,940,909 │       $10.62 │ 2025-11… │
│            │ - sonnet-4-5            │              │              │              │              │              │              │          │
├────────────┼─────────────────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────┤
│   └─       │                         │        1,252 │       76,213 │    1,528,156 │   12,285,255 │   13,890,876 │       $10.56 │          │
│ sonnet-4-5 │                         │              │              │              │              │              │              │          │
├────────────┼─────────────────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────┤
│   └─       │                         │           12 │          903 │       40,755 │        8,363 │       50,033 │        $0.06 │          │
│ haiku-4-5  │                         │              │              │              │              │              │              │          │
├────────────┼─────────────────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────┤
│ Total      │                         │      741,082 │    4,846,655 │   44,539,157 │  499,589,949 │  549,716,843 │      $419.21 │          │
└────────────┴─────────────────────────┴──────────────┴──────────────┴──────────────┴──────────────┴──────────────┴──────────────┴──────────┘
```

As you can see, my major driver is still sonnet and not haiku, so I think I need to further refine the agents, but if I look at last week(ccusage monthly -b -u 20251112) vs this week(ccusage monthly -b -u 20251112), then I can definitely see an increase in haiku relative to everything else, so maybe the agentic workflows are working.

#### Nov 7th-12th results

```text
┌────────────────┬──────────────────────────────────┬──────────────┬──────────────┬──────────────┬──────────────┬──────────────┬──────────────┐
│ Month          │ Models                           │        Input │       Output │ Cache Create │   Cache Read │ Total Tokens │   Cost (USD) │
├────────────────┼──────────────────────────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┤
│ 2025-11        │ - haiku-4-5                      │      558,756 │    3,580,214 │   34,358,117 │  392,097,459 │  430,594,546 │      $327.84 │
│                │ - opus-4-1                       │              │              │              │              │              │              │
│                │ - sonnet-4-5                     │              │              │              │              │              │              │
├────────────────┼──────────────────────────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┤
│   └─ sonnet-4… │                                  │      540,248 │    3,204,443 │   31,821,825 │  361,029,851 │  396,596,367 │      $277.33 │
├────────────────┼──────────────────────────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┤
│   └─ opus-4-1  │                                  │          783 │      204,983 │      697,442 │   11,263,478 │   12,166,686 │       $45.36 │
├────────────────┼──────────────────────────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┤
│   └─ haiku-4-5 │                                  │       17,725 │      170,788 │    1,838,850 │   19,804,130 │   21,831,493 │        $5.15 │
├────────────────┼──────────────────────────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┤
│ Total          │                                  │      558,756 │    3,580,214 │   34,358,117 │  392,097,459 │  430,594,546 │      $327.84 │
└────────────────┴──────────────────────────────────┴──────────────┴──────────────┴──────────────┴──────────────┴──────────────┴──────────────┘
```

This fuzzy math shows that Sonnet is 40x Opus and Haiku is 2x Opus, so very heavy on the Sonnet usage, and I hit my limit of around 430M tokens in a little under 3 days.

#### Nov 13th results

```text
┌────────────────┬──────────────────────────────────┬──────────────┬──────────────┬──────────────┬──────────────┬──────────────┬──────────────┐
│ Month          │ Models                           │        Input │       Output │ Cache Create │   Cache Read │ Total Tokens │   Cost (USD) │
├────────────────┼──────────────────────────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┤
│ 2025-11        │ - haiku-4-5                      │      182,582 │    1,297,815 │   10,397,113 │  112,379,661 │  124,257,171 │       $94.12 │
│                │ - opus-4-1                       │              │              │              │              │              │              │
│                │ - sonnet-4-5                     │              │              │              │              │              │              │
├────────────────┼──────────────────────────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┤
│   └─ sonnet-4… │                                  │      137,009 │      960,824 │    8,369,614 │   84,818,258 │   94,285,705 │       $71.65 │
├────────────────┼──────────────────────────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┤
│   └─ opus-4-1  │                                  │          446 │       44,306 │      410,580 │    3,680,412 │    4,135,744 │       $16.55 │
├────────────────┼──────────────────────────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┤
│   └─ haiku-4-5 │                                  │       45,127 │      292,685 │    1,616,919 │   23,880,991 │   25,835,722 │        $5.92 │
├────────────────┼──────────────────────────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┼──────────────┤
│ Total          │                                  │      182,582 │    1,297,815 │   10,397,113 │  112,379,661 │  124,257,171 │       $94.12 │
└────────────────┴──────────────────────────────────┴──────────────┴──────────────┴──────────────┴──────────────┴──────────────┴──────────────┘
```

With the new agentic workflow, the ratio is Sonnet -> Opus is 46x and Haiku -> Opus is 6.5x, so a very large increase in Haiku usage. At current rates, I would expect about 300M Sonnet tokens, 75M Haiku tokens, and 12M Opus tokens before I hit my weekly limit, which is slightly lower than the previous week, but I will see once I hit the limit.

## Other little interesting tidbits

I filed a bug against mojo for their formatter not handling a weird corner case correctly. Not sure what is failing, but the issue is [here](https://github.com/modular/modular/issues/5573). This makes formatting useless, but I've gone ahead and removed the precommit check for now. Once it gets fixed, i'll go ahead and re-enable it.
