# 12-5-2025: Token Analysis

I have been pushing this off, so figured it would be a good day to do a token analysis. I've been working on this for about a month and according to statistics, there are now ~120k lines of Mojo code.

I originally was analyzing it from Thursday to Thursday, but with Opus getting released on a Monday and that resetting everything, I"m going to do Sunday to Saturday. The actual numbers don't change much, but this will make it more consistent going forward. It also shows a distinct split between Opus 4.1 usage and Opus 4.5 usage and its interesting pattern.

## Token Analysis - Weekly

```bash
┌──────────┬──────────────────────────┬──────────┬──────────┬───────────┬────────────┬────────────┬──────────┐
│ Week     │ Models                   │    Input │   Output │     Cache │ Cache Read │      Total │     Cost │
│          │                          │          │          │    Create │            │     Tokens │    (USD) │
├──────────┼──────────────────────────┼──────────┼──────────┼───────────┼────────────┼────────────┼──────────┤
│ 2025     │ - haiku-4-5              │  521,921 │ 3,082,7… │ 30,383,2… │ 327,467,9… │ 361,455,8… │  $250.10 │
│ 11-03    │ - sonnet-4-5             │          │          │           │            │            │          │
├──────────┼──────────────────────────┼──────────┼──────────┼───────────┼────────────┼────────────┼──────────┤
│ 2025     │ - haiku-4-5              │  421,913 │ 4,413,2… │ 34,822,2… │ 423,828,4… │ 463,485,9… │  $352.21 │
│ 11-10    │ - opus-4-1               │          │          │           │            │            │          │
│          │ - sonnet-4-5             │          │          │           │            │            │          │
├──────────┼──────────────────────────┼──────────┼──────────┼───────────┼────────────┼────────────┼──────────┤
│ 2025     │ - haiku-4-5              │  735,389 │ 3,131,8… │ 38,887,0… │ 527,861,4… │ 570,615,7… │  $342.40 │
│ 11-17    │ - opus-4-1               │          │          │           │            │            │          │
│          │ - sonnet-4-5             │          │          │           │            │            │          │
├──────────┼──────────────────────────┼──────────┼──────────┼───────────┼────────────┼────────────┼──────────┤
│ 2025     │ - haiku-4-5              │ 1,227,9… │  494,232 │ 65,534,1… │ 869,221,8… │ 936,478,1… │  $493.14 │
│ 11-24    │ - opus-4-5               │          │          │           │            │            │          │
│          │ - sonnet-4-5             │          │          │           │            │            │          │
├──────────┼──────────────────────────┼──────────┼──────────┼───────────┼────────────┼────────────┼──────────┤
│ 2025     │ - haiku-4-5              │  562,672 │  302,780 │ 48,720,5… │ 965,138,1… │ 1,014,724… │  $575.45 │
│ 12-01    │ - opus-4-5               │          │          │           │            │            │          │
│          │ - sonnet-4-5             │          │          │           │            │            │          │
├──────────┼──────────────────────────┼──────────┼──────────┼───────────┼────────────┼────────────┼──────────┤
│ Total    │                          │ 3,469,8… │ 11,424,… │ 218,347,… │ 3,113,517… │ 3,346,759… │ $2013.30 │
└──────────┴──────────────────────────┴──────────┴──────────┴───────────┴────────────┴────────────┴──────────┘
```

The interesting thing here is the clean break between Opus usage between 4.1 adn 4.5. I didn't really change the agents that much between the 17th and 24th, so most of the changes came from the tasks and the model upgrade. As can be seen, there was a dramatic improvement in the number of tokens that I was able to utilize on a per-week basis. I'm not using over a billion tokens a week, but the big change is my output token count is steadily reducing. I need to do some more in-depth analysis on the usage logs to see where tokens are being used, but there was is definitely a switch from outputing code versus modifying/improving code that already exists. I switched from development to cleanup on the 24th, which can be shown by the large reduction in code from the [code frequency page](https://github.com/mvillmow/ml-odyssey/graphs/code-frequency).

Also the number of commits has started to stabilize after being highly variable the first 3 weeks, as can be seen from [commit activity page](https://github.com/mvillmow/ml-odyssey/graphs/commit-activity).

So code creation is decreasing and more time is spent in processing/planning. I definitely need to check if that is done via sub-agents, thinking, planning, or something else.


## Token Analysis - Per Model

```bash
┌────────────┬─────────────────────────┬──────────┬──────────┬──────────┬───────────┬───────────┬──────────┐
│ Week       │ Models                  │    Input │   Output │    Cache │     Cache │     Total │     Cost │
│            │                         │          │          │   Create │      Read │    Tokens │    (USD) │
├────────────┼─────────────────────────┼──────────┼──────────┼──────────┼───────────┼───────────┼──────────┤
│ 2025       │ - haiku-4-5             │  521,921 │ 3,082,7… │ 30,383,… │ 327,467,… │ 361,455,… │  $250.10 │
│ 11-03      │ - sonnet-4-5            │          │          │          │           │           │          │
├────────────┼─────────────────────────┼──────────┼──────────┼──────────┼───────────┼───────────┼──────────┤
│   └─       │                         │  504,253 │ 2,926,3… │ 28,619,… │ 308,103,… │ 340,154,… │  $245.16 │
│ sonnet-4-5 │                         │          │          │          │           │           │          │
├────────────┼─────────────────────────┼──────────┼──────────┼──────────┼───────────┼───────────┼──────────┤
│   └─       │                         │   17,668 │  156,417 │ 1,763,5… │ 19,364,0… │ 21,301,7… │    $4.94 │
│ haiku-4-5  │                         │          │          │          │           │           │          │
├────────────┼─────────────────────────┼──────────┼──────────┼──────────┼───────────┼───────────┼──────────┤
│ 2025       │ - haiku-4-5             │  421,913 │ 4,413,2… │ 34,822,… │ 423,828,… │ 463,485,… │  $352.21 │
│ 11-10      │ - opus-4-1              │          │          │          │           │           │          │
│            │ - sonnet-4-5            │          │          │          │           │           │          │
├────────────┼─────────────────────────┼──────────┼──────────┼──────────┼───────────┼───────────┼──────────┤
│   └─       │                         │  281,744 │ 3,165,9… │ 28,618,… │ 315,605,… │ 347,671,… │  $250.34 │
│ sonnet-4-5 │                         │          │          │          │           │           │          │
├────────────┼─────────────────────────┼──────────┼──────────┼──────────┼───────────┼───────────┼──────────┤
│   └─       │                         │    1,765 │  301,948 │ 1,577,8… │ 20,105,2… │ 21,986,7… │   $82.41 │
│ opus-4-1   │                         │          │          │          │           │           │          │
├────────────┼─────────────────────────┼──────────┼──────────┼──────────┼───────────┼───────────┼──────────┤
│   └─       │                         │  138,404 │  945,411 │ 4,625,4… │ 88,118,0… │ 93,827,3… │   $19.46 │
│ haiku-4-5  │                         │          │          │          │           │           │          │
├────────────┼─────────────────────────┼──────────┼──────────┼──────────┼───────────┼───────────┼──────────┤
│ 2025       │ - haiku-4-5             │  735,389 │ 3,131,8… │ 38,887,… │ 527,861,… │ 570,615,… │  $342.40 │
│ 11-17      │ - opus-4-1              │          │          │          │           │           │          │
│            │ - sonnet-4-5            │          │          │          │           │           │          │
├────────────┼─────────────────────────┼──────────┼──────────┼──────────┼───────────┼───────────┼──────────┤
│   └─       │                         │  621,953 │ 2,264,2… │ 32,476,… │ 408,606,… │ 443,969,… │  $280.20 │
│ sonnet-4-5 │                         │          │          │          │           │           │          │
├────────────┼─────────────────────────┼──────────┼──────────┼──────────┼───────────┼───────────┼──────────┤
│   └─       │                         │      907 │   99,237 │  708,107 │ 13,182,4… │ 13,990,6… │   $40.51 │
│ opus-4-1   │                         │          │          │          │           │           │          │
├────────────┼─────────────────────────┼──────────┼──────────┼──────────┼───────────┼───────────┼──────────┤
│   └─       │                         │  112,529 │  768,298 │ 5,702,2… │ 106,072,… │ 112,655,… │   $21.69 │
│ haiku-4-5  │                         │          │          │          │           │           │          │
├────────────┼─────────────────────────┼──────────┼──────────┼──────────┼───────────┼───────────┼──────────┤
│ 2025       │ - haiku-4-5             │ 1,227,9… │  494,232 │ 65,534,… │ 869,221,… │ 936,478,… │  $493.14 │
│ 11-24      │ - opus-4-5              │          │          │          │           │           │          │
│            │ - sonnet-4-5            │          │          │          │           │           │          │
├────────────┼─────────────────────────┼──────────┼──────────┼──────────┼───────────┼───────────┼──────────┤
│   └─       │                         │  417,767 │  313,720 │ 40,662,… │ 530,297,… │ 571,691,… │  $317.53 │
│ sonnet-4-5 │                         │          │          │          │           │           │          │
├────────────┼─────────────────────────┼──────────┼──────────┼──────────┼───────────┼───────────┼──────────┤
│   └─       │                         │  366,893 │   23,412 │ 10,244,… │ 139,386,… │ 150,021,… │  $136.14 │
│ opus-4-5   │                         │          │          │          │           │           │          │
├────────────┼─────────────────────────┼──────────┼──────────┼──────────┼───────────┼───────────┼──────────┤
│   └─       │                         │  443,307 │  157,100 │ 14,627,… │ 199,537,… │ 214,764,… │   $39.47 │
│ haiku-4-5  │                         │          │          │          │           │           │          │
├────────────┼─────────────────────────┼──────────┼──────────┼──────────┼───────────┼───────────┼──────────┤
│ 2025       │ - haiku-4-5             │  562,672 │  302,780 │ 48,720,… │ 965,138,… │ 1,014,72… │  $575.45 │
│ 12-01      │ - opus-4-5              │          │          │          │           │           │          │
│            │ - sonnet-4-5            │          │          │          │           │           │          │
├────────────┼─────────────────────────┼──────────┼──────────┼──────────┼───────────┼───────────┼──────────┤
│   └─       │                         │  140,997 │   48,784 │ 30,428,… │ 642,868,… │ 673,486,… │  $513.54 │
│ opus-4-5   │                         │          │          │          │           │           │          │
├────────────┼─────────────────────────┼──────────┼──────────┼──────────┼───────────┼───────────┼──────────┤
│   └─       │                         │  403,897 │  247,207 │ 17,067,… │ 312,427,… │ 330,146,… │   $54.22 │
│ haiku-4-5  │                         │          │          │          │           │           │          │
├────────────┼─────────────────────────┼──────────┼──────────┼──────────┼───────────┼───────────┼──────────┤
│   └─       │                         │   17,778 │    6,789 │ 1,223,6… │ 9,842,639 │ 11,090,9… │    $7.70 │
│ sonnet-4-5 │                         │          │          │          │           │           │          │
├────────────┼─────────────────────────┼──────────┼──────────┼──────────┼───────────┼───────────┼──────────┤
│ Total      │                         │ 3,469,8… │ 11,424,… │ 218,347… │ 3,113,51… │ 3,346,75… │ $2013.30 │
└────────────┴─────────────────────────┴──────────┴──────────┴──────────┴───────────┴───────────┴──────────┘
```

Week 1 - This was the baseline agentic workflow.
Week 2 - This week was optimized agents with model specific agents, which shows Opus being utilized for orchestration.
Week 3 - Further optimized agents for using skills and pushing more work onto Haiku over sonnet usage.
Week 4 - Surprise usage of Opus 4.5 being prioritized and executing more than the previous week despite not changing agents much.
Week 5 - I set Opus as my default in week 4 since I ran out of Sonnet usage, but forget to reset it to when the new week started.


The amount of tokens used this week is quite incredible compared to what I am used to. I just need to figure out whether those tokens are useful tokens, or I am just blowing through them on MCP calls or something stupid like that. I also need to reset my default back to sonnet, since opus is a way more expensive model, so i only really want to use it for orchestration and planning, and not day to day tasks that can be handled just as well by cheaper models.
